{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\yajur\\\\Desktop\\\\ToHacks\\\\TOHacks\\\\App.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport LoginPage from \"./components/LoginPage\";\nimport firebase from \"firebase\";\nimport { distance } from \"./assets/distance\";\nimport * as Location from 'expo-location';\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCcKFBHuyG-vpL9FvzBCyN7Gtj0fwDCoSQ\",\n  authDomain: \"tohacks-ff343.firebaseapp.com\",\n  projectId: \"tohacks-ff343\",\n  storageBucket: \"tohacks-ff343.appspot.com\",\n  messagingSenderId: \"381681073929\",\n  appId: \"1:381681073929:web:663178803d422c9dcb1dd8\",\n  measurementId: \"G-6GXD9VSYZS\"\n};\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(firebaseConfig);\n} else {\n  firebase.app();\n}\n\nvar current_lat = '';\nvar current_lon = '';\n\nfunction get_Loc() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      location = _useState2[0],\n      setLocation = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              setErrorMsg('Permission to access location was denied');\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 9:\n              location = _context.sent;\n              setLocation(location);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (location) {\n    console.log(location.coords.latitude);\n    console.log(location.coords.longitude);\n    var lat = location.coords.latitude;\n    var lon = location.coords.longitude;\n    current_lat = lat;\n    current_lon = lon;\n  }\n}\n\nfunction update_start_loc(current_lat, current_lon) {\n  firebase.firestore().collection(\"Users\").doc(\"gkWaMtCQ2CTuSBBoM3jX\").update({\n    'startLat': current_lat,\n    'startLon': current_lon\n  }).then(function () {\n    console.log('Updated Start Lat/Lon');\n  });\n}\n\nfunction update_end_loc(current_lat, current_lon) {\n  firebase.firestore().collection(\"Users\").doc(\"gkWaMtCQ2CTuSBBoM3jX\").update({\n    'endLat': current_lat,\n    'endLon': current_lon\n  }).then(function () {\n    console.log('Updated End Lat/Lon');\n  });\n}\n\nexport default function App() {\n  get_Loc();\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, React.createElement(LoginPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/yajur/Desktop/ToHacks/TOHacks/App.js"],"names":["StatusBar","React","useState","useEffect","LoginPage","firebase","distance","Location","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","apps","length","initializeApp","app","current_lat","current_lon","get_Loc","location","setLocation","errorMsg","setErrorMsg","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","text","console","log","coords","latitude","longitude","lat","lon","update_start_loc","firestore","collection","doc","update","then","update_end_loc","App","styles","container","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport { StyleSheet, Text, View } from 'react-native';\r\n\r\nimport LoginPage from \"./components/LoginPage\";\r\n\r\nimport firebase from \"firebase\";\r\nimport {distance} from './assets/distance';\r\nimport * as Location from 'expo-location';\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCcKFBHuyG-vpL9FvzBCyN7Gtj0fwDCoSQ\",\r\n  authDomain: \"tohacks-ff343.firebaseapp.com\",\r\n  projectId: \"tohacks-ff343\",\r\n  storageBucket: \"tohacks-ff343.appspot.com\",\r\n  messagingSenderId: \"381681073929\",\r\n  appId: \"1:381681073929:web:663178803d422c9dcb1dd8\",\r\n  measurementId: \"G-6GXD9VSYZS\"\r\n};\r\n\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n} else {\r\n  firebase.app();\r\n}\r\n\r\n// const getUsername = () => {\r\n//   var toReturn = null;\r\n//   firebase.firestore().collection(\"Users\").doc(\"gkWaMtCQ2CTuSBBoM3jX\").get().then((res) => {\r\n\r\n\r\n//     console.log(\"HEREEE2: \", res.data().username);\r\n//     toReturn = res.data().username;\r\n    \r\n\r\n//   })\r\n\r\n  \r\n//   return toReturn;\r\n// }\r\n\r\nlet current_lat = '';\r\nlet current_lon = '';\r\n\r\n// get the current location\r\nfunction get_Loc()\r\n{\r\n  const [location, setLocation] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      let { status } = await Location.requestForegroundPermissionsAsync();\r\n      if (status !== 'granted') {\r\n        setErrorMsg('Permission to access location was denied');\r\n        return;\r\n      }\r\n\r\n      let location = await Location.getCurrentPositionAsync({});\r\n      setLocation(location);\r\n    })();\r\n  }, []);\r\n  if (errorMsg) {\r\n    text = errorMsg;\r\n  } else if (location) {\r\n    console.log(location.coords.latitude) \r\n    console.log(location.coords.longitude) \r\n    let lat = location.coords.latitude\r\n    let lon = location.coords.longitude\r\n    current_lat = lat;\r\n    current_lon = lon;\r\n  }\r\n}\r\n\r\n//Write to firebase and update the start vaules\r\nfunction update_start_loc(current_lat, current_lon) {\r\n firebase.firestore().collection(\"Users\").doc(\"gkWaMtCQ2CTuSBBoM3jX\").update({\r\n   'startLat': current_lat,\r\n   'startLon': current_lon\r\n }).then(() => {\r\n\r\nconsole.log('Updated Start Lat/Lon');\r\n})\r\n}\r\n\r\n//Write to firebase and update the end vaules\r\nfunction update_end_loc(current_lat, current_lon) {\r\n  firebase.firestore().collection(\"Users\").doc(\"gkWaMtCQ2CTuSBBoM3jX\").update({\r\n    'endLat': current_lat,\r\n    'endLon': current_lon\r\n  }).then(() => {\r\n \r\n console.log('Updated End Lat/Lon');\r\n })\r\n } \r\n\r\n\r\n\r\nexport default function App() {\r\n  get_Loc()\r\n  return (\r\n    <View style={styles.container}>\r\n      {/**<Text>Open up App.js to start working on your app!</Text>\r\n      <StatusBar style=\"auto\" />\r\n      <Text style={styles.paragraph}>{current_lat}, {current_lon}</Text>*/}\r\n    <LoginPage />\r\n\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}